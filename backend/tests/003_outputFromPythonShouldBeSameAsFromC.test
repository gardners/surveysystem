skip! description Python implementation of nextquestion can be used

# note that this test requires the actual sleep question logic (Python) to be available.
#
# Create a dummy survey
# XXX - In any test where we use python, we need to make sure we don't reuse any survey name
# that appears in any othe test, else our python functions will be hanging around and will get used.
definesurvey 003_outputFromPythonShouldBeSameAsFromC
version 2
Silly test survey updated
with python
email:What is the answer to question 1?:What is the answer to question 1?:TEXT:0:I don't know:-1:-1:0:0::
password1:How boring was question 1?:How boring was question 1?:TEXT:0:I don't know:-1:-1:0:0::
endofsurvey

# Create python module
python
def nextquestion_003_outputFromPythonShouldBeSameAsFromC(questions, answers):
    if len(answers) == 0:
        return 'email'
    else:
        return('password1')
endofpython

# Request creation of a  new session
request 200 newsession?surveyid=003_outputFromPythonShouldBeSameAsFromC

# Get the session ID that newsession should have returned
extract_sessionid

# Check that we have an empty session file created
verify_session
003_outputFromPythonShouldBeSameAsFromC/11b0c147a2e1e1dc1840ab719a031fccaa4014ab
endofsession

# Ask for next question
request 200 nextquestion?sessionid=$SESSION
# TODO: line 38 is what I think the answer should look like, but the output actually looks like line 39
#match_string {"next_questions": [{"id": "email", "name": "email", "title": "How boring was question 1?", "description": "How boring was question 1?", "type": "TEXT", "default_value": "", "unit": ""}]}
match_string "email"

request 200 addanswer?sessionid=$SESSION&answer=email:test.email@someDomain.org:0:0:0:0:0:0:0:

# Check that we are offered the next question to answer
# TODO: line 45 is what I think the answer should look like, but it actually looks like line 46
#match_string {"next_questions": [{"id": "password1", "name": "question2", "title": "What is the answer to question 1?", "description": "What is the answer to question 2?", "type": "TEXT", "default_value": "", "unit": ""}]}
match_string "password1"

# Make sure answer ends up in file
verify_session
foo/0a7caf5b02adad7583c7bfae30f6f119cb3581cc
email:test.email@someDomain.org:0:0:0:0:0:0:0:
endofsession


