@description Answer a question in a survey

# Create a dummy survey
definesurvey foo
version 2
Silly test survey updated
without python
multichoice:Select one of the following:Select one of the following:MULTICHOICE:0::-1:-1:-1:3:Yes,No,Maybe:
question1:What is the answer to question 1?:What is the answer to question 1?:TEXT:0:I don't know:-1:-1:0:0::
question2:How boring was question 1?:How boring was question 1?:TEXT:0:I don't know:-1:-1:0:0::
endofsurvey

# Request creation of a  new session
request 200 /newsession?surveyid=foo

# Get the session ID that newsession should have returned
extract_sessionid

# Check that we have an empty session file created
verify_session(skip_headers)
foo/a8df47cf88569fdd9d16b9b40ab41e5ddef4a21b
endofsession

request 200 /addanswer?sessionid=$SESSION&answer=question1:Hello+World:0:0:0:0:0:0:0

# Check that we are offered the next question to answer

# Make sure answer ends up in file
verify_session(skip_headers)
foo/a8df47cf88569fdd9d16b9b40ab41e5ddef4a21b
question1:TEXT:Hello World:0:0:0:0:0:0:0::0:<UTIME>
endofsession
